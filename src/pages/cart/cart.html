<ion-header>
  <main-toolbar></main-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col text-center class="f-item-padding-bottom">
        <span class="f-size-medium f-color-secondary">Cart subtotal ({{cart.cartItemsCount}} items):</span>
        <span class="f-size-large" style="color: red;">{{cart.orderTotal | localeCurrency:userService.currency}}</span>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <button class="f-btn-add-cart" ion-button block [attr.disabled]="(cart.orderProducts.length == 0)?'':null">Proceed to checkout</button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <hr>

  <div *ngFor="let item of cart.orderProducts; let i = index">
    <ion-grid class="f-color-secondary f-item-nopadding-tb">

      <ion-row>
        <ion-col col-auto>
          <div>
            <img class="f-img-item" width="60" height="60" [src]="item?.quotationproduct?.product?.imageUrl">
          </div>
        </ion-col>
        <ion-col no-padding>
          <ion-grid class="f-item-nopadding-tb">
            <ion-row>
              <ion-col no-padding class="f-item-padding-bottom">
                <span class="f-size-medium"><b>{{item?.quotationproduct?.product?.name}}</b></span>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col no-padding class="f-item-padding-bottom">
                <span class="f-size-medium f-color-red" >{{item.price | localeCurrency:userService.currency}}</span>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col no-padding class="f-item-padding-bottom">
                <span class="f-size-small f-color-red">Only {{item?.quotationproduct?.stockQuant}} left. Order now</span>
              </ion-col>
            </ion-row>

          </ion-grid>
        </ion-col>

      </ion-row>

      <ion-row>
        <ion-col col-auto class="f-item-padding-bottom" >
          <div class="input-qty">
            <span class="btn" (click)="decQty(item)">
              <ion-icon name="ios-remove"></ion-icon>
            </span>
            <input readonly [(ngModel)]="item.qty">
            <span class="btn" (click)="incQty(item)">
              <ion-icon name="ios-add"></ion-icon>
            </span>
            <div class="clear"></div>
          </div>
        </ion-col>
        <ion-col class="f-item-padding-left">
          <div class="delete-qty">
            <span class="btn-delete" (click)="onDeleteItem(i)">Delete</span>
          </div>
        </ion-col>
      </ion-row>


    </ion-grid>
    <hr>
  </div>


</ion-content>
