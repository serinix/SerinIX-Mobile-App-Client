<ion-header>
  <main-toolbar [showCartIcon] = "false"></main-toolbar>
</ion-header>

<ion-content class="f-size-larger">
  <ion-grid *ngIf="dataLoaded">

    <ion-row>
      <ion-col class="f-section-header">Your current FoxClub member's bonus balance
      </ion-col>
    </ion-row>

    <ion-row class="f-padding-lr-5" *ngIf="dataLoaded">
      <ion-grid class="f-border-ligthgray">

        <ion-row>
          <ion-col class="f-size-large">
            Bonus:
          </ion-col>

          <ion-col  text-right col-auto (click)="toggleBonusDetails()">
            <ion-grid no-padding>
              <ion-row>
                <ion-col class="f-size-large f-color-green" >
                  <b>{{cart.availBonus | localeCurrency:userService.currency}}</b>
                </ion-col>
              </ion-row>
              <div class="f-size-default" *ngIf="clientBonusArr.length>0">
                <ion-row>
                  <ion-col class="f-padding-t-5">
                    Only <b>{{bonusDaysLeft}}</b> day(s) left. <span class="f-color-red">Hurry up!</span>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col class="f-size-small" class="f-item-nopadding-tb">
                    <a class="f-color-info">{{!showBonusDetails? 'More >>':'Less <<'}}</a>
                  </ion-col>
                </ion-row>
              </div>

            </ion-grid>

          </ion-col>
        </ion-row>

        <div class="f-size-default" *ngIf="(clientBonusArr.length>0) && showBonusDetails">
          <ion-row>
            <ion-col col-5>
            </ion-col>
            <ion-col col-7 no-padding>
              <ion-grid no-padding>
                <ion-row>
                  <ion-col>
                    <hr>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col col-5 text-end class="f-padding-right-15"><b>Bonus:</b></ion-col>
                  <ion-col col-7 text-end class="f-padding-right-15"><b>Valid till:</b></ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <hr>
                  </ion-col>
                </ion-row>

                <ion-row *ngFor="let bInfo of clientBonusArr">
                  <ion-col col-5 text-end class="f-padding-rb-10">
                    {{bInfo.bonus | localeCurrency:userService.currency}}
                  </ion-col>
                  <ion-col col-7 text-end class="f-padding-rb-10">
                    {{bInfo.dueDate | date: 'mediumDate'}}
                  </ion-col>
                </ion-row>

              </ion-grid>
            </ion-col>

          </ion-row>

        </div>

        <ion-row>
          <ion-col no-padding>
            <hr>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="f-size-large">
            Promo bonus:
          </ion-col>
          <ion-col class="f-size-large f-color-green" text-right col-auto>
            <b>{{cart.availPromoBonus | localeCurrency:userService.currency}}</b>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-row>

    <bonus-pay *ngIf="checkoutMode"></bonus-pay>


    <ion-row *ngIf="checkoutMode">
      <ion-col class="f-padding-lr-5 f-padding-t-10">
        <button class="f-btn-add-cart" ion-button block
                [attr.disabled]="!validatePage()?'':null"
                (click)="onContinueClick()">Continue</button>
      </ion-col>
    </ion-row>



  </ion-grid>
</ion-content>
